(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7316:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return A}});var r=t(5893),i=(t(3235),t(9008)),a=t(682),s=t(5315),o=t(103),c=t(7757),l=t.n(c),u=t(2137),d=t(5005),p=t(5922),h=t(9611),f=t(5147),x=t(7294);function j(e){var n,t=e.scene,i=e.index,a=e.onClickFn,s=e.onEditFn,o=e.onDeleteFn;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("tr",{"data-index":i,onClick:function(e){a&&a(e)},children:[(0,r.jsx)("td",{className:"border-top-0",children:null===t||void 0===t?void 0:t.title}),(0,r.jsx)("td",{className:"border-top-0",children:null===t||void 0===t||null===(n=t.actors)||void 0===n?void 0:n.join(", ")}),(0,r.jsx)("td",{className:"border-top-0",children:null===t||void 0===t?void 0:t.studio}),(0,r.jsxs)("td",{className:"border-top-0",children:[(0,r.jsx)(d.Z,{"data-index":i,variant:"link",onClick:function(e){s&&s(e)},children:"Editar"}),(0,r.jsx)(d.Z,{"data-index":i,variant:"link",onClick:function(e){s&&o(e)},children:"Eliminar"})]})]})})}var v=t(6156),m=t(5503);t(3759);m.Z.apps.length||m.Z.initializeApp({apiKey:"AIzaSyAj2CbU0gfi3JjQogFdEyw7nwKyxYckXb8",authDomain:"github-live.firebaseapp.com",projectId:"github-live",storageBucket:"github-live.appspot.com",messagingSenderId:"673058692097",appId:"1:673058692097:web:a852d5766e6520cc387400"});var Z=m.Z.firestore();function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,v.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(){return y.apply(this,arguments)}function y(){return(y=(0,u.Z)(l().mark((function e(){var n,t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.collection("scenes").get();case 2:return n=e.sent,t=[],n.forEach((function(e){t.push(g({id:e.id},e.data()))})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=(0,u.Z)(l().mark((function e(n){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.collection("scenes").add(n);case 2:return t=e.sent,r=g({id:t.id},n),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,n){return N.apply(this,arguments)}function N(){return(N=(0,u.Z)(l().mark((function e(n,t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.collection("scenes").doc(n).update(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return E.apply(this,arguments)}function E(){return(E=(0,u.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.collection("scenes").doc(n.id).delete();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=t(7418);function S(e){var n=e.scene,t=e.showModal,i=e.onCloseFn;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(P.Z,{centered:!0,show:t,onHide:function(){i&&i()},children:[(0,r.jsx)(P.Z.Header,{closeButton:!0,children:(0,r.jsx)(P.Z.Title,{children:null===n||void 0===n?void 0:n.title})}),(0,r.jsx)(P.Z.Body,{children:"Detalles de la escena"})]})})}function _(e){var n=e.title,t=e.actionText,i=e.showModal,a=e.onConfirmFn,s=e.onCloseFn;function o(){s&&s()}return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(P.Z,{centered:!0,show:i,onHide:o,children:[(0,r.jsx)(P.Z.Header,{className:"border-bottom-0",children:(0,r.jsx)(P.Z.Title,{children:n})}),(0,r.jsxs)(P.Z.Footer,{className:"border-top-0",children:[(0,r.jsx)(d.Z,{variant:"outline",size:"sm",onClick:o,children:"Cancelar"}),(0,r.jsx)(d.Z,{variant:"outline",size:"sm",onClick:function(){a&&a()},children:t})]})]})})}var D=t(1555),T=t(2151),M=t(4051);function z(e){var n=e.scene,t=e.showModal,i=e.onCloseFn,a=e.onDoneFn;function s(){return(s=(0,u.Z)(l().mark((function e(n){var t,r,i,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t=n.target.id.value,r=n.target.title.value,i=n.target.studio.value,s=n.target.date.value,c={title:r,studio:i,date:s},!t){e.next=11;break}return e.next=9,F(t,c);case 9:e.next=13;break;case 11:return e.next=13,k(c);case 13:a&&a(),o();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){i&&i()}return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(P.Z,{centered:!0,show:t,onHide:o,children:[(0,r.jsx)(P.Z.Header,{children:(0,r.jsx)(P.Z.Title,{children:n?"Editar escena":"Crear escena"})}),(0,r.jsxs)(T.Z,{onSubmit:function(e){return s.apply(this,arguments)},children:[(0,r.jsxs)(P.Z.Body,{children:[(0,r.jsx)(T.Z.Control,{name:"id",defaultValue:null===n||void 0===n?void 0:n.id}),(0,r.jsx)(M.Z,{className:"pb-2",children:(0,r.jsx)(D.Z,{children:(0,r.jsx)(T.Z.Control,{placeholder:"Titulo",name:"title",defaultValue:null===n||void 0===n?void 0:n.title})})}),(0,r.jsxs)(M.Z,{className:"pb-2",children:[(0,r.jsx)(D.Z,{children:(0,r.jsx)(T.Z.Control,{placeholder:"Estudio",name:"studio",defaultValue:null===n||void 0===n?void 0:n.studio})}),(0,r.jsx)(D.Z,{children:(0,r.jsx)(T.Z.Control,{placeholder:"Fecha",name:"date",defaultValue:null===n||void 0===n?void 0:n.date})})]})]}),(0,r.jsxs)(P.Z.Footer,{children:[(0,r.jsx)(d.Z,{variant:"outline",size:"sm",onClick:o,children:"Cancelar"}),(0,r.jsx)(d.Z,{variant:"primary",size:"sm",type:"submit",children:"Guardar"})]})]})]})})}var B=["Movie","Actors","Studio","Tags"];function H(){(0,x.useEffect)((function(){C()}),[]);var e=(0,x.useState)([]),n=e[0],t=e[1],i=(0,x.useState)(!1),a=i[0],s=i[1],o=(0,x.useState)(!1),c=o[0],v=o[1],m=(0,x.useState)(!1),Z=m[0],b=m[1],g=(0,x.useState)(-1),y=g[0],k=g[1];function C(){return F.apply(this,arguments)}function F(){return(F=(0,u.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return y?n[y]:null}function E(e){e.stopPropagation();var n=e.target.parentElement.dataset;k(n.index),v(!0)}function P(e){e.stopPropagation();var n=e.target.dataset;k(n.index),s(!0)}function D(e){e.stopPropagation();var n=e.target.dataset;k(n.index),b(!0)}function T(){return(T=(0,u.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,O(N());case 4:n.splice(y,1),t(n),b(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=(0,r.jsx)(h.Z,{id:"menu",children:(0,r.jsx)(h.Z.Content,{children:"Cambiar las columnas de orden"})});return(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Z,{variant:"primary",onClick:P,children:"Crear escena"})," ",(0,r.jsxs)(f.Z,{hover:!0,responsive:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[B.map((function(e,n){return(0,r.jsx)("th",{className:"border-top-0 border-bottom",children:e},n)})),(0,r.jsx)("th",{className:"border-top-0 border-bottom",children:(0,r.jsx)(p.Z,{trigger:"click",placement:"bottom",overlay:M,children:(0,r.jsx)(d.Z,{variant:"link",children:"..."})})})]})}),(0,r.jsx)("tbody",{children:n.map((function(e,n){return(0,r.jsx)(j,{index:n,scene:e,onClickFn:E,onEditFn:P,onDeleteFn:D},n)}))})]}),(0,r.jsx)(z,{scene:N(),showModal:a,onCloseFn:function(){s(!1)},onDoneFn:C}),(0,r.jsx)(S,{scene:N(),showModal:c,onCloseFn:function(){v(!1)}}),(0,r.jsx)(_,{title:"\xbfEliminar esta escena?",actionText:"Eliminar",showModal:Z,onConfirmFn:function(){return T.apply(this,arguments)},onCloseFn:function(){b(!1)}})]})}function A(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{children:"Create Next App"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(o.Z,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",className:"w-100",children:[(0,r.jsx)(o.Z.Toggle,{"aria-controls":"responsive-navbar-nav",className:""}),(0,r.jsx)(o.Z.Brand,{href:"#home",className:"mr-auto",children:"React-Bootstrap"}),(0,r.jsx)(o.Z.Collapse,{id:"responsive-navbar-nav",children:(0,r.jsxs)(s.Z,{className:"ml-auto",children:[(0,r.jsx)(s.Z.Link,{href:"#features",children:"Features"}),(0,r.jsx)(s.Z.Link,{href:"#pricing",children:"Pricing"})]})})]}),(0,r.jsx)(a.Z,{children:(0,r.jsx)("main",{children:(0,r.jsx)(H,{})})}),(0,r.jsx)("footer",{})]})}},8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7316)}])}},function(e){e.O(0,[774,17,395,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);